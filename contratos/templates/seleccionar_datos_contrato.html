{% extends 'base.html' %}
{% block title %}
    Seleccionar Usuarios, Vehículos y Tipo de Contrato
{% endblock %}

{% block content %}
<style>
    #checkboxes {
        display: block;
        margin: 20px 0; /* Ajusta los márgenes de todo el contenedor */
        padding: 10px;  /* Si deseas más espaciado interno */
        border-radius: 5px;  /* Bordes redondeados */
        width: 100%;
    }
    
    /* Estilo para cada cláusula dentro de #checkboxes */
    .clausula {
        margin-bottom: 15px; /* Margen entre las cláusulas */
    }
    
    /* Estilo para los inputs de tipo checkbox */
    .clausula input[type="checkbox"] {
        margin-right: 10px; /* Espaciado entre checkbox y el campo de texto */
    }
    
    /* Estilo para los inputs de tipo texto */
    .clausula input[type="text"] {
        width: 100%;         /* Hace que el campo de texto ocupe todo el ancho disponible */
        margin-top: 5px;     /* Margen superior */
        margin-bottom: 10px; /* Margen inferior */
        padding: 8px;        /* Padding dentro del campo de texto */
        box-sizing: border-box; /* Para que el padding no afecte el ancho */
    }
</style>
<div class="recent-orders">
    <div class="vehicle_search">
        <form action="{% url 'vehiculos:generar_pdf' %}" method="get">

            <div>
                <label for="persona">Seleccione el tipo de persona:</label>
                <select name="persona" id="persona">
                    <option value="">Seleccione el tipo de persona</option>
                    <option value="Natural">Natural</option>
                    <option value="Juridica">Jurídica</option>
                </select>
            </div>
            
            <!-- Menú desplegable para Vendedor -->
            <div id="vendedores_section">
                <label for="vendedores">Selecciona Vendedor:</label>
                <select name="vendedores" id="vendedores">
                    <option value="">Seleccione</option>
                    <option value="1">1</option>
                    <option value="2">2</option>
                </select>
            </div>
            
            
            <!-- Menú desplegable para Comprador -->
            <div id="compradores_section">
                <label for="compradores">Selecciona Comprador:</label>
                <select name="compradores" id="compradores">
                    <option value="">Seleccione</option>
                    <option value="1">1</option>
                    <option value="2">2</option>
                </select>
            </div>
            
            <!-- Apartado para Tipo de Persona Jurídica -->
            <div id="tipo_persona_juridica" style="display: none; margin-top: 20px;">
                <label for="tipo_juridica">Tipo de Persona Jurídica:</label>
                <select name="tipo_juridica" id="tipo_juridica">
                    <option value="">Seleccione</option>
                    <option value="Comprador">Comprador</option>
                    <option value="Vendedor">Vendedor</option>
                </select>
            </div>
            
            <!-- Campos dinámicos para NIT y Nombre -->
            <div id="campos_juridica" style="display: none; margin-top: 20px;">
                <div style="margin-bottom: 10px;">
                    <label for="nit">NIT:</label>
                    <input type="text" name="nit" id="nit" placeholder="Ingrese el NIT">
                </div>
                <div>
                    <label for="nombre">Nombre:</label>
                    <input type="text" name="nombre" id="nombre" placeholder="Ingrese el Nombre">
                </div>
            </div>

            <div>
                <label for="usuario1">Ingrese la cedula del Vendedor:</label>
                <input type="text" name="usuario1_cedula" id="usuario1" placeholder="Ingrese la cédula del Vendedor">
            </div>

            <!-- Campo para la segunda cédula del vendedor -->
            <div id="cedula_vendedor_2" style="display: none; margin-top: 10px;">
                <label for="vendedor_cedula_2">Digite la segunda cédula del Vendedor:</label>
                <input type="text" name="vendedor_cedula_2" id="vendedor_cedula_2" placeholder="Ingrese la segunda cédula del Vendedor">
            </div>

            <div>
                <label for="usuario2">Ingrese la cedula del Comprador:</label>
                <input type="text" name="usuario2_cedula" id="usuario2" placeholder="Ingrese la cédula del comprador">
            </div>

            <div id="cedula_comprador_2" style="display: none; margin-top: 10px;">
                <label for="comprador_cedula_2">Digite la segunda cédula del Comprador:</label>
                <input type="text" name="comprador_cedula_2" id="comprador_cedula_2" placeholder="Ingrese la segunda cédula del Comprador">
            </div>

            <div>
                <label for="vehiculo">Ingrese la placa del vehiculo:</label>
                <input type="text" name="vehiculo_placa" id="vehiculo" placeholder="Ingrese la placa del vehículo">
            </div>

            <div id="vehiculo2-container" style="display: none;">
                <label for="vehiculo2">Ingrese la placa del segundo vehículo:</label>
                <input type="text" name="vehiculo2_placa" id="vehiculo2" placeholder="Ingrese la placa del vehículo">
            </div>

            <div>
                <label for="refiere">Refiere:</label>
                <input type="text" name="refiere" id="refiere" placeholder="Ingrese el Referido">
            </div>

            <div>
                <label for="tipo_contrato">Selecciona Tipo de Contrato:</label>
                <select name="tipo_contrato" id="tipo_contrato" required>
                    <option value="">Selecciona el tipo de contrato</option>
                    <option value="venta">Venta de Taxi con Cupo</option>
                    <option value="Compra_Cupo">Compra Cupo</option>
                    <option value="compra_Particular">Compra Particular</option>
                    <option value="compra_usado">Compra Usado</option>
                    <option value="permuta">Permuta</option>
                    <option value="chatarizacion_con_venta">Chatarrización con venta</option>
                    <option value="servicio_chatarrizacion">Servicio Chatarrización</option>
                    <option value="venta_cupo">Venta Cupo</option>
                    <option value="venta_particular">Venta Particular</option>
                    <option value="venta_usado">Venta Usado</option>
                    <option value="diaco">Diaco</option>
                    <option value="compra_venta">Compra Venta</option>
                    <option value="cmatricula">Cancelación Matrícula</option>
                    <option value="mandato">Mandato</option>
                    <option value="fun">Fun</option>
                    <option value="metrokia">Credi MetroKia</option>
                    <option value="autoland">Credi Autoland</option>
                </select>
            </div>
            <div id="tipo_venta_usado-container" style="display: none;">
                <label for="tipo_venta_usado">Selecciona el tipo de pago:</label>
                <select name="tipo_venta_usado" id="tipo_venta_usado">
                    <option value="contado">Contado</option>
                    <option value="doble_garantia">Doble Garantia</option>
                    <option value="credito">Credito</option>
                </select>
            </div>
            <div id="venta_nuevo_container" style="display: none;">
                <label for="venta_nuevo">Selecciona el pago clausula 5ta:</label>
                <select name="venta_nuevo" id="venta_nuevo">
                    <option value="primero">Primer Pago</option>
                    <option value="segundo">Segundo Pago</option>
                    <option value="tercero">Tercer Pago</option>
                    <option value="primeroysegundo">Primer+Segundo Pago</option>
                    <option value="totalP">Pago Total</option>
                </select>
            </div>

            <div id="compra_cupo_campos" style="display: none; ">
                <div id="informacion_pagos" style="user-select: text;">
                    <p style="text-align: left;">
                        Para Primer pago usar: &#123;&#123;primer_pago&#125;&#125;
                        <br>
                        Para Primer pago en letras usar &#123;&#123;primer_pago_letras&#125;&#125;
                        <br>
                        Para el dia del primer pago usar &#123;&#123;dia_primer_pago&#125;&#125;
                        <br>
                        Para el dia del primer en letras pago usar &#123;&#123;dia_primer_pago_letras&#125;&#125;
                        <br>
                        Para segundo pago usar: &#123;&#123;segundo_pago&#125;&#125;
                        <br>
                        Para segundo pago en letras usar &#123;&#123;segundo_pago_letras&#125;&#125;
                        <br>
                        Para el dia del segundo pago usar &#123;&#123;dia_segundo_pago&#125;&#125;
                        <br>
                        Para el dia del segundo en letras pago usar &#123;&#123;dia_segundo_pago_letras&#125;&#125;
                        <br>
                        Para tercer pago usar: &#123;&#123;tercer_pago&#125;&#125;
                        <br>
                        Para tercer pago en letras usar &#123;&#123;tercer_pago_letras&#125;&#125;
                        <br>
                        Para el dia del tercer pago usar &#123;&#123;dia_tercer_pago&#125;&#125;
                        <br>
                        Para el dia del tercer en letras pago usar &#123;&#123;dia_tercer_pago_letras&#125;&#125;
                    </p>
                </div>
                <div>
                    <label for="pacta_suma">Se pacta la suma de:</label>
                    <input type="number" id="pacta_suma" name="pacta_suma" placeholder="Ingrese el monto pactado">
                </div>
                <div>
                    <label for="primer_pago">Primer pago:</label>
                    <input type="number" id="primer_pago" name="primer_pago" placeholder="Ingrese el primer pago">
                    <label for="dia_primer_pago">Posterior a los </label>
                    <input type="number" id="dia_primer_pago" name="dia_primer_pago" placeholder="Ingrese el dia">
                </div>
                <div>
                    <label for="segundo_pago">Segundo pago:</label>
                    <input type="number" id="segundo_pago" name="segundo_pago" placeholder="Ingrese el segundo pago">
                    <label for="dia_segundo_pago">Posterior a los </label>
                    <input type="number" id="dia_segundo_pago" name="dia_segundo_pago" placeholder="Ingrese el dia">
                </div>
                <div>
                    <label for="tercer_pago">Tercer pago:</label>
                    <input type="number" id="tercer_pago" name="tercer_pago" placeholder="Ingrese el Tercer pago">
                    <label for="dia_tercer_pago">Posterior a los </label>
                    <input type="number" id="dia_tercer_pago" name="dia_tercer_pago" placeholder="Ingrese el dia">
                </div>
                <div>
                    <label for="cuarta_clausula">Cuarta Obligaciones</label>
                    <input type="number" id="cuarta_clausula" name="cuarta_clausula" placeholder="Posteriores a la firma">
                </div>
            </div>

            <br>
            <br>
            <br>

            <div id="clausula3" style="display: none;">
                <p style="text-align: justify">
                    <strong>Cláusulas 3: </strong>
                    --------------------------------------------------------------------------------------------------------------------------------------------------------------------
                </p>
                <ul style="text-align: justify" class="claus-list-3">
                    <!-- Se llenarán dinámicamente -->
                </ul>
                <p style="text-align: justify">
                    <strong>Cláusulas 8: </strong>
                    --------------------------------------------------------------------------------------------------------------------------------------------------------------------
                </p>
            </div>

            <!-- Cláusulas de la octava (Gastos) que solo se mostrarán si se selecciona "Permuta" -->
            <div id="checkboxes" style="display: none;">
                <p style="text-align: justify">
                    <strong>Cláusulas: </strong>
                    --------------------------------------------------------------------------------------------------------------------------------------------------------------------
                </p>
                <ul style="text-align: justify" class="claus-list">
                    <!-- Se llenarán dinámicamente con las cláusulas -->
                </ul>
            </div>
            
            <div id="opciones" style="display: none;">
                <p style="text-align: justify">
                    <strong>Observaciones: </strong>
                    --------------------------------------------------------------------------------------------------------------------------------------------------------------------
                </p>
                <ul style="text-align: justify" class="claus-list">
                    <!-- Se llenarán dinámicamente -->
                </ul>
            </div>


            <button type="submit">Generar Contrato PDF</button>
        </form>
    </div>
</div>

<button type="button" id="add_clausula">Agregar Cláusula</button>
<button type="button" id="add_opcion">Agregar Observación</button>
<button type="button" id="add_tercera">Agregar Forma de Pago</button>

<script>
    // Definir las cláusulas y opciones para cada tipo de contrato
    const clausulasPorContrato = {
        "permuta": [
            { texto: "La retención en la fuente y el traspaso del vehículo de placas _______ la asume EL PRIMER PERMUTANTE." },
            { texto: "La chatarrización y cancelación de matrícula del vehículo de placas _____ será asumida por EL SEGUNDO PERMUTANTE." },
            { texto: "La retención en la fuente y el traspaso del vehículo de placas ______ la asume EL SEGUNDO PERMUTANTE." },
            { texto: "EL PRIMER PERMUTANTE cancelará los gastos ocasionados por pasar el vehículo por sidenal sin funcionar por valor de xxxxxx xxxx MIL PESOS M/CTE($xxx.xxx)." }
        ],
        "venta": [
            { "texto": "El comprador se compromete a cancelar el valor acordado en los términos y plazos estipulados en la cláusula tercera." },
            { "texto": "A estar a paz y salvo por todo concepto, comparendos y/o multas de tránsito a nivel nacional y estar inscrito ante el RUNT (Registro único nacional de tránsito)." },
            { "texto": "Por mutuo acuerdo entre las partes, el vehículo nuevo será afiliado a la empresa OPERADORA DE TRANSPORTE DE COLOMBIA TAXI CUPOS S.A.S." }
        ],
        "compra": [
            { texto: "El comprador tiene derecho a realizar inspección del vehículo antes de la compra." },
            { texto: "El vendedor se compromete a entregar todos los documentos legales del vehículo." }
        ],
        "Compra_Cupo": [
            { texto: "Los gastos de traspaso serán asumidos 50% por el comprador y 50% por el vendedor." },
            { texto: "La chatarrización y derechos de cancelación de matrícula serán asumidos en su totalidad por el comprador." },
            { texto: "La retención en la fuente será asumida por el vendedor en su totalidad." }
        ],
        "compra_Particular": [
            { texto: "La retención en la fuente será asumida por el vendedor en su totalidad." },
            { texto: "Derechos de traspaso ante el VENTANILLA UNICA DE SERVICIOS “VUS”, será asumida 50% por cada una de las partes." }
        ],
        "compra_usado": [
            { texto: "Los gastos de traspaso serán asumidos 50% por el comprador y 50% por el vendedor." },
            { texto: "La retención en la fuente será asumida por el vendedor en su totalidad." },
            { texto: "CLAUSULA EXTRA" }
        ],
        "venta_particular": [
            { texto: "La retención en la fuente será asumida por el vendedor en su totalidad." },
            { texto: "Derechos de traspaso ante el VENTANILLA UNICA DE SERVICIOS 'VUS', será asumida 50% por cada una de las partes." }
        ],
        "venta_usado": [
            { texto: "Los gastos de traspaso serán asumidos 50% por el comprador y 50% por el vendedor." },
            { texto: "La retención en la fuente será asumida por el vendedor en su totalidad." },
            { texto: "CLAUSULA EXTRA" }
        ],
        "chatarizacion_con_venta": [
            ],
        "servicio_chatarrizacion": [
            ],
        "venta_cupo": [
            { texto: "El Cesionario se compromete a cancelar el valor acordado en los términos y plazos estipulados en la cláusula tercera." },
            { texto: "El Cesionario deberá estar a paz y salvo por todo concepto, comparendos y / o multas de tránsito a nivel nacional y estar inscrito ante el RUNT (Registro Único Nacional de Tránsito). -----------------------------------------------------------------------" },
            { texto: "A entregar la factura de compra con improntas, declaración y manifiesto de aduana expedida por el concesionario autorizado, prendas si es el caso para matrícula del vehículo nuevo, y se compromete a cumplir con los requisitos estipulados en la presente cláusula. -------------------------------------------------------------------------------------------------------------" }
        ],
        // Agregar más tipos de contrato según sea necesario
    };

    const opcionesPorContrato = {
        "permuta": [
            { texto: "Se aclara que los vehículos son dos taxis del cual los PERMUTANTES ceden todos los derechos de reposición del cupo y del taxi." },
            { texto: "LOS PERMUTANTES entregarán los vehículos en mención a paz y salvo por todo concepto." },
            { texto: "EL SEGUNDO PERMUTANTE solicitará los paz y salvos de movilidad, de accidentes y comparendos administrativos." },
            { texto: "El taxi nuevo se entregará con emblemas reglamentarios, derechos de matrícula cancelados ante el SIM, soat por un año, un año de rodamiento cancelado ante la empresa Taxi Cupos a partir de la entrega del vehículo, impuesto año en curso, la tarjeta de operación y los seguros contractual y extracontractual se entregarán cancelados hasta la fecha de corte de la empresa afiliadora." },
            { texto: "El cambio de vehículos se realizará al tener los documentos firmados y autenticados junto con revisión DIJIN del vehículo." }
        ],
        "venta": [
            { texto: "El comprador se compromete a pagar el 20% del valor total como anticipo." },
            { texto: "El vendedor se compromete a entregar el vehículo dentro de los 10 días hábiles posteriores a la firma." }
        ],
        "compra": [
            { texto: "El comprador aceptará la venta con base en la inspección realizada." }
        ],
        "Compra_Cupo": [
            { texto: "Se aclara que el vehículo es un taxi del cual el vendedor cede al comprador todos los derechos de reposición del cupo y del taxi." },
            { texto: "El vehículo se entregará por parte del vendedor al comprador a paz y salvo por todo concepto respecto al carro y al cupo." },
            { texto: "El vehículo se entregará al comprador en el mismo estado visto y funcionando." },
            { texto: "El vendedor se compromete a asistir a cualquier llamado por parte de cualquier entidad competente respecto al taxi y su cupo." },
            { texto: "El vehículo será traspasado a nombre del comprador o a quien este designe." },
            { texto: "El vendedor se compromete a completar la documentación y requisitos solicitados para realizar el primer pago de este contrato en un tiempo máximo de cinco (5) días hábiles siguientes a la firma de este contrato." }
        ],
        "compra_Particular": [
            { texto: "Se aclara que el vehículo es un ________________ del cual el vendedor cede al comprador todos los derechos." },
            { texto: "El vehículo se entregará por parte del vendedor al comprador a paz y salvo por todo concepto respecto al carro." },
            { texto: "El vehículo se entregará al comprador en el mismo estado visto, funcionando y a entera satisfacción por parte del vendedor al comprador y no tiene garantía por ser un vehículo usado." }
        ],
        "compra_usado": [
            { texto: "Se aclara que el vehículo es un taxi del cual el vendedor cede al comprador todos los derechos de reposición del cupo y del taxi." },
            { texto: "El vehículo se entregará por parte del vendedor al comprador a paz y salvo por todo concepto respecto al carro y al cupo." },
            { texto: "El vehículo se entregará al comprador en el mismo estado visto y funcionando." },
            { texto: "El vendedor se compromete a asistir a cualquier llamado por parte de cualquier entidad competente respecto al taxi y su cupo." },
            { texto: "El vehículo será traspasado a nombre del comprador o a quien este designe." },
            { texto: "El vendedor se compromete a completar la documentación y requisitos solicitados para realizar el primer pago de este contrato en un tiempo máximo de cinco (5) días hábiles siguientes a la firma de este contrato." }
        ],
        "venta_particular": [
            { texto: "Se aclara que el vehículo es un ________________ del cual el vendedor cede al comprador todos los derechos." },
            { texto: "El vehículo se entregará por parte del vendedor al comprador a paz y salvo por todo concepto respecto al carro." },
            { texto: "El vehículo se entregará al comprador en el mismo estado visto, funcionando y a entera satisfacción por parte del vendedor al comprador y no tiene garantía por ser un vehículo usado." },
            { texto: "El vehículo será entregado al estar cancelado en su totalidad." }
        ],
        "venta_usado": [
            { texto: "Se aclara que el vehículo es un taxi del cual el vendedor cede al comprador todos los derechos de reposición del cupo y del taxi." },
            { texto: "El vehículo se entregará por parte del vendedor al comprador a paz y salvo por todo concepto respecto al carro y al cupo." },
            { texto: "El vehículo se entregará al comprador en el mismo estado visto y funcionando." },
            { texto: "El vehículo se entregará al comprador en el mismo estado visto, funcionando y a entera satisfacción sin garantía por parte del vendedor al comprador, esto por ser un vehículo usado." },
            { texto: "El vehículo será entregado al estar cancelado en su totalidad." }
        ],
        "chatarizacion_con_venta": [
            { texto: "Se aclara que el vehículo debe ser entregado funcionando, en el mismo estado visto y los gastos que se ocasionen fuera de lo estipulado en el contrato serán asumidos por el propietario, como comparendos, y lo que se requiera para solicitud de la paz y salvo de la empresa afiliadora ________________. Además, será afiliado a la empresa ---------------------------------------." },
            { texto: "El vehículo será entregado dentro de los tres días hábiles siguientes al hacerse efectivo el pago total de este contrato. ----------------" },
            { texto: "Los seguros contra y extra junto con la tarjeta de operación serán asumidos por el PROPIETARIO. ------------------" },
            { texto: "Si el vehículo queda afiliado a TAXICUPOS S.A.S., se entregará con factura cancelada ante TAXICUPOS por un año de rodamiento. -------------------------------------------------------------------------------------------------------------------" }
        ],
        "servicio_chatarrizacion": [
            { texto: "Se aclara que el vehículo debe ser entregado funcionando, en el mismo estado visto y los gastos que se ocasionen fuera de lo estipulado en el contrato serán asumidos por el propietario, como comparendos, y lo que se requiera para solicitud de la paz y salvo de la empresa afiliadora ________________. Además, será afiliado a la empresa --------------------------------------------------------------------------------------------------------------------------." },
            { texto: "Los seguros contra y extra junto con la tarjeta de operación serán asumidos por el PROPIETARIO. ------------------" },
            { texto: "Si el vehículo queda afiliado a TAXICUPOS S.A.S., se entregará con factura cancelada ante TAXICUPOS por un año de rodamiento. --------------------------------------------------------------------------------------------------------------------" },
            { texto: "Los documentos y placas del taxi nuevo serán entregados dentro de los tres días hábiles siguientes a salir la matrícula y al hacerse efectivo el pago total de este contrato. ---------------------------------------------------------------" }
        ],
        "venta_cupo": [
            { "texto": "Cualquier gasto adicional no estipulado en este contrato será asumido por el comprador. --------------------------------------" },
            { "texto": "El vehículo será entregado dentro de los tres días hábiles siguientes al hacerse efectivo el pago total de este contrato." },
            { "texto": "El PROPIETARIO solicitará la excepción del IVA (CREI) en la factura del vehículo objeto de este contrato con la asesoría y acompañamiento del TRAMITADOR. -------------------------------------------------------------------------------------------" },
            { "texto": "Si el comprador solicita la instalación del equipo de gas, el costo será asumido por este ante la empresa instaladora. El Vendedor se compromete a gestionar este trámite ante el SIM para que la tarjeta de propiedad salga gas - gasolina y cancelará los derechos ante tránsito. --------------------------------------------------------------------------------------------------------" },
            { "texto": "El comprador se compromete a firmar los compromisos de consumo del vehículo ante la entidad que realizó o realizará la transformación a gas, bajo las condiciones que establezca la empresa transformadora y/o el convenio que estos presenten. --------------------------------------------------------------------------------------------------------------------------------------" },
            { "texto": "Al estar aprobado el CREI (Descuento del IVA) el valor eximido en la factura del taxi nuevo ya está descontado del valor total de este contrato. -------------------------------------------------------------------------------------------------------------------" },
            { "texto": "El vendedor y el comprador han pactado que el tiempo de demora, dilación, atraso, subsanación, negligencia, impericia, fuerza mayor o caso fortuito, atribuible a la autoridad administrativa, judicial y/o de tránsito no será responsabilidad atribuible a Taxi Cupos SAS. ---------------------------------------------------------------------------------------------------------------------" }
        ],
        // Agregar más opciones por contrato según sea necesario
    };

    const tercera_clausula = {
        "permuta": [
            { texto: "El comprador se compromete a cancelar la suma de {{ primer_pago_letras }} (${{ primer_pago }}), posteriores a los {{ dia_primer_pago_letras }} ({{ dia_primer_pago }}) días hábiles siguientes a..." },
            { texto: "El comprador se compromete a cancelar la suma de {{ segundo_pago_letras }} (${{ segundo_pago }}), posteriores a los {{ dia_segundo_pago_letras }} ({{ dia_segundo_pago }}) días hábiles siguientes a..." }
        ],
        "venta": [
            { texto: "El comprador se compromete a cancelar la suma de {{ primer_pago_letras }} (${{ primer_pago }}), posteriores a los {{ dia_primer_pago_letras }} ({{ dia_primer_pago }}) días hábiles siguientes a..." },
            { texto: "El comprador se compromete a cancelar la suma de {{ segundo_pago_letras }} (${{ segundo_pago }}), posteriores a los {{ dia_segundo_pago_letras }} ({{ dia_segundo_pago }}) días hábiles siguientes a..." }
        ],
        "compra": [
            { texto: "El comprador aceptará la venta con base en la inspección realizada." }
        ],
        "Compra_Cupo": [
            { texto: "El comprador se compromete a cancelar la suma de {{ primer_pago_letras }} (${{ primer_pago }}), posteriores a los {{ dia_primer_pago_letras }} ({{ dia_primer_pago }}) días hábiles siguientes a realizar la entrega del vehículo con sus respectivos documentos originales, al tener el resultado físico de la DIJIN, certificado de tradición sin pendientes, paz y salvo de traspaso de la empresa afiliadora, junto con los documentos firmados y autenticados para realizar los trámites de traspaso a nombre del comprador o quien este designe. ----------------------" },
            { texto: "El comprador se compromete a cancelar la suma de {{ segundo_pago_letras }} (${{ segundo_pago }}), posteriores a los {{ dia_segundo_pago_letras }} ({{ dia_segundo_pago }}) días hábiles siguientes a la expedición de paz y salvos de movilidad del vehículo y los derechos de reposición, sin ningún pendiente respecto a (COMPARENDOS, ADMINISTRATIVOS, ACCIDENTES DE TRANSITO Y COBROS COACTIVOS). Junto con la tarjeta de propiedad a nombre del comprador o quien este designe aprobada ante la VENTANILLA UNICA DE SERVICIOS 'VUS'. ----------------------------------------------" }
        ],
        "compra_Particular": [
            { texto: "El comprador se compromete a cancelar la suma de {{ primer_pago_letras }} (${{ primer_pago }}), posteriores a los {{ dia_primer_pago_letras }} ({{ dia_primer_pago }}) días hábiles siguientes a..." },
            { texto: "El comprador se compromete a cancelar la suma de {{ segundo_pago_letras }} (${{ segundo_pago }}), posteriores a los {{ dia_segundo_pago_letras }} ({{ dia_segundo_pago }}) días hábiles siguientes a..." }
        ],
        "compra_usado": [
            { texto: "El comprador se compromete a cancelar la suma de {{ primer_pago_letras }} (${{ primer_pago }}), posteriores a los {{ dia_primer_pago_letras }} ({{ dia_primer_pago }}) días hábiles siguientes a realizar la entrega del vehículo con sus respectivos documentos originales, al tener el resultado físico de la DIJIN, certificado de tradición sin pendientes, paz y salvo de traspaso de la empresa afiliadora, junto con los documentos firmados y autenticados para realizar los trámites de traspaso a nombre del comprador o quien este designe. ----------------------" },
            { texto: "El comprador se compromete a cancelar la suma de {{ segundo_pago_letras }} (${{ segundo_pago }}), posteriores a los {{ dia_segundo_pago_letras }} ({{ dia_segundo_pago }}) días hábiles siguientes a la expedición de paz y salvos de movilidad del vehículo y los derechos de reposición, sin ningún pendiente respecto a (COMPARENDOS, ADMINISTRATIVOS, ACCIDENTES DE TRANSITO Y COBROS COACTIVOS). Junto con la tarjeta de propiedad a nombre del comprador o quien este designe aprobada ante la VENTANILLA UNICA DE SERVICIOS 'VUS'. ----------------------------------------------" }
        ],
        "venta_particular": [
            { texto: "El comprador se compromete a cancelar la suma de {{ primer_pago_letras }} (${{ primer_pago }}), posteriores a los {{ dia_primer_pago_letras }} ({{ dia_primer_pago }}) días hábiles siguientes a..." },
            { texto: "El comprador se compromete a cancelar la suma de {{ segundo_pago_letras }} (${{ segundo_pago }}), posteriores a los {{ dia_segundo_pago_letras }} ({{ dia_segundo_pago }}) días hábiles siguientes a..." }
        ],
        "venta_usado": [
            { texto: "El comprador se compromete a cancelar la suma de {{ primer_pago_letras }} (${{ primer_pago }}), posteriores a los {{ dia_primer_pago_letras }} ({{ dia_primer_pago }}) días hábiles siguientes a..." },
            { texto: "El comprador se compromete a cancelar la suma de {{ segundo_pago_letras }} (${{ segundo_pago }}), posteriores a los {{ dia_segundo_pago_letras }} ({{ dia_segundo_pago }}) días hábiles siguientes a..." }
        ],
        "chatarizacion_con_venta": [
            { texto: "El propietario se compromete a cancelar la suma de <strong>&shy;&shy;&shy;&shy;&shy;{{ primer_pago_letras }} DE PESOS M/CTE (${{ primer_pago }})</strong> dentro de los {{ dia_primer_pago_letras }} ({{ dia_primer_pago }}) días hábiles siguientes a……---------------------" },
            { texto: "El propietario se compromete a cancelar la suma de <strong>&shy;&shy;&shy;&shy;&shy;{{ segundo_pago_letras }} DE PESOS M/CTE (${{ segundo_pago }})</strong> dentro de los {{ dia_segundo_pago_letras }} ({{ dia_segundo_pago }}) días hábiles siguientes a……---------------------" }
        ],
        "servicio_chatarrizacion": [
            { texto: "El propietario se compromete a cancelar la suma de <strong>&shy;&shy;&shy;&shy;&shy;{{ primer_pago_letras }} DE PESOS M/CTE (${{ primer_pago }})</strong> dentro de los {{ dia_primer_pago_letras }} ({{ dia_primer_pago }}) días hábiles siguientes a……---------------------" },
            { texto: "El propietario se compromete a cancelar la suma de <strong>&shy;&shy;&shy;&shy;&shy;{{ segundo_pago_letras }} DE PESOS M/CTE (${{ segundo_pago }})</strong> dentro de los {{ dia_segundo_pago_letras }} ({{ dia_segundo_pago }}) días hábiles siguientes a……---------------------" }
        ],
        "venta_cupo": [
            { texto: "El CESIONARIO se compromete a cancelar la suma de <strong>{{ primer_pago_letras }} DE PESOS M/CTE</strong><strong>(${{ primer_pago }}),</strong> posteriores a los {{ dia_primer_pago_letras }} ({{ dia_primer_pago }}) días hábiles siguientes a..." },
            { texto: "El CESIONARIO se compromete a cancelar la suma de <strong>{{ segundo_pago_letras }} DE PESOS M/CTE</strong><strong>(${{ segundo_pago }}),</strong> posteriores a los {{ dia_segundo_pago_letras }} ({{ dia_segundo_pago }}) días hábiles siguientes a..." },
            { texto: "El CESIONARIO se compromete a cancelar la suma de <strong>____________ DE PESOS M/CTE</strong><strong>( $___.000.000),</strong> posteriores a los______ (___) días hábiles siguientes a..." }
        ],
        // Agregar más opciones por contrato según sea necesario
    };


    document.getElementById('tipo_contrato').addEventListener('change', function () {
        var tipoContrato = this.value;
        var checkboxesContainer = document.getElementById('checkboxes');
        var opcionesContainer = document.getElementById('opciones');
        var compraCupoCampos = document.getElementById('compra_cupo_campos');
        var vehiculo2Container = document.getElementById('vehiculo2-container');  // Referencia al contenedor de vehiculo2
        var tipo_pagoContainer= document.getElementById('tipo_venta_usado-container')
        var tipo_clausula = document.getElementById('venta_nuevo_container')
        var terceraContainer = document.getElementById('clausula3');
        var tiposOcultos = ['diaco', 'compra_venta', 'cmatricula', 'mandato', 'fun', 'metrokia', 'autoland'];
        
        // Limpiar los elementos anteriores
        checkboxesContainer.innerHTML = '';
        opcionesContainer.querySelector('ul').innerHTML = '';
        terceraContainer.querySelector('ul').innerHTML = '';
    
        // Mostrar las cláusulas y opciones según el tipo de contrato
        if (tipoContrato && clausulasPorContrato[tipoContrato]) {
            // Mostrar las cláusulas
            clausulasPorContrato[tipoContrato].forEach(function (clausula, index) {
                var clausulaDiv = document.createElement('div');
                clausulaDiv.classList.add('clausula');  // Asegúrate de que se añada la clase
    
                var checkbox = document.createElement('input');
                checkbox.type = 'checkbox';
                checkbox.name = `gasto_${index + 1}`;
                checkbox.id = `gasto_${index + 1}`;
    
                var inputText = document.createElement('input');
                inputText.type = 'text';
                inputText.name = `gasto_${index + 1}_text`;
                inputText.id = `gasto_${index + 1}_text`;
                inputText.value = clausula.texto;
                inputText.disabled = true;
    
                // Asegúrate de aplicar el estilo correctamente
                inputText.style.width = "100%";
                inputText.style.marginTop = "5px";
    
                // Agregar la cláusula al contenedor
                clausulaDiv.appendChild(checkbox);
                clausulaDiv.appendChild(inputText);
                checkboxesContainer.appendChild(clausulaDiv);
    
                checkbox.addEventListener('change', function () {
                    inputText.disabled = !checkbox.checked;
                });
            });
    
            // Mostrar las opciones
            opcionesPorContrato[tipoContrato]?.forEach(function (opcion, index) {
                var opcionLi = document.createElement('li');
    
                var checkbox = document.createElement('input');
                checkbox.type = 'checkbox';
                checkbox.name = `opcion_${index + 1}`;
                checkbox.id = `opcion_${index + 1}`;
    
                var inputText = document.createElement('input');
                inputText.type = 'text';
                inputText.name = `opcion_${index + 1}_text`;
                inputText.id = `opcion_${index + 1}_text`;
                inputText.value = opcion.texto;
                inputText.disabled = true;
                inputText.style.width = "100%";
                inputText.style.marginTop = "5px";
    
                opcionLi.appendChild(checkbox);
                opcionLi.appendChild(inputText);
                opcionesContainer.querySelector('ul').appendChild(opcionLi);
    
                checkbox.addEventListener('change', function () {
                    inputText.disabled = !checkbox.checked;
                });
            });

            tercera_clausula[tipoContrato]?.forEach(function (tercera, index) {
                var terceraLi = document.createElement('li');
    
                var checkbox = document.createElement('input');
                checkbox.type = 'checkbox';
                checkbox.name = `tercera_${index + 1}`;
                checkbox.id = `tercera_${index + 1}`;
    
                var inputText = document.createElement('input');
                inputText.type = 'text';
                inputText.name = `tercera_${index + 1}_text`;
                inputText.id = `tercera_${index + 1}_text`;
                inputText.value = tercera.texto;
                inputText.disabled = true;
                inputText.style.width = "100%";
                inputText.style.marginTop = "5px";
    
                terceraLi.appendChild(checkbox);
                terceraLi.appendChild(inputText);
                terceraContainer.querySelector('ul').appendChild(terceraLi);
    
                checkbox.addEventListener('change', function () {
                    inputText.disabled = !checkbox.checked;
                });
            });
            
    
            // Mostrar los contenedores
            checkboxesContainer.style.display = 'block';
            opcionesContainer.style.display = 'block';
            terceraContainer.style.display = 'block';
        } else {
            checkboxesContainer.style.display = 'none';
            opcionesContainer.style.display = 'none';
            terceraContainer.style.display = 'none';
        }
    
        // Mostrar los campos de "compra_cupo_campos" independientemente del tipo de contrato
        if (tiposOcultos.includes(tipoContrato)) {
            compraCupoCampos.style.display = 'none';
        } else {
            compraCupoCampos.style.display = 'block';
        }

        if (tipoContrato === 'permuta') {
            vehiculo2Container.style.display = 'block';
        } else {
            vehiculo2Container.style.display = 'none';
        }
        if (tipoContrato === 'venta_usado'){
            tipo_pagoContainer.style.display = 'block';
        } else {
            tipo_pagoContainer.style.display = 'none';
        }
        if (tipoContrato === 'venta') {
            tipo_clausula.style.display = 'block'; 
        } else {
            tipo_clausula.style.display = 'none';
        }
    });
    
    // Agregar una cláusula dinámica
    document.getElementById('add_clausula').addEventListener('click', function () {
        var tipoContrato = document.getElementById('tipo_contrato').value;
        if (tipoContrato && clausulasPorContrato[tipoContrato]) {
            var checkboxesContainer = document.getElementById('checkboxes');
            var clausulaIndex = clausulasPorContrato[tipoContrato].length + 1;
            var nuevaClausula = { texto: "Nueva cláusula dinámica" };
    
            var clausulaDiv = document.createElement('div');
            clausulaDiv.classList.add('clausula');
    
            var checkbox = document.createElement('input');
            checkbox.type = 'checkbox';
            checkbox.name = `gasto_${clausulaIndex}`;
            checkbox.id = `gasto_${clausulaIndex}`;
    
            var inputText = document.createElement('input');
            inputText.type = 'text';
            inputText.name = `gasto_${clausulaIndex}_text`;
            inputText.id = `gasto_${clausulaIndex}_text`;
            inputText.value = nuevaClausula.texto;
            inputText.disabled = true;
            inputText.style.width = "100%";
            inputText.style.marginTop = "5px";
    
            clausulaDiv.appendChild(checkbox);
            clausulaDiv.appendChild(inputText);
            checkboxesContainer.appendChild(clausulaDiv);
    
            checkbox.addEventListener('change', function () {
                inputText.disabled = !checkbox.checked;
            });
    
            clausulasPorContrato[tipoContrato].push(nuevaClausula);
        }
    });
    
    // Agregar una opción dinámica
    document.getElementById('add_opcion').addEventListener('click', function () {
        var tipoContrato = document.getElementById('tipo_contrato').value;
        if (tipoContrato && opcionesPorContrato[tipoContrato]) {
            var opcionesContainer = document.getElementById('opciones').querySelector('ul');
            var opcionIndex = opcionesPorContrato[tipoContrato].length + 1;
            var nuevaOpcion = { texto: "Nueva opción dinámica" };
    
            var opcionLi = document.createElement('li');
    
            var checkbox = document.createElement('input');
            checkbox.type = 'checkbox';
            checkbox.name = `opcion_${opcionIndex}`;
            checkbox.id = `opcion_${opcionIndex}`;
    
            var inputText = document.createElement('input');
            inputText.type = 'text';
            inputText.name = `opcion_${opcionIndex}_text`;
            inputText.id = `opcion_${opcionIndex}_text`;
            inputText.value = nuevaOpcion.texto;
            inputText.disabled = true;
            inputText.style.width = "100%";
            inputText.style.marginTop = "5px";
    
            opcionLi.appendChild(checkbox);
            opcionLi.appendChild(inputText);
            opcionesContainer.appendChild(opcionLi);
    
            checkbox.addEventListener('change', function () {
                inputText.disabled = !checkbox.checked;
            });

        
    
            opcionesPorContrato[tipoContrato].push(nuevaOpcion);
        }
    });

    document.getElementById('add_tercera').addEventListener('click', function () {
        var tipoContrato = document.getElementById('tipo_contrato').value;
        if (tipoContrato && tercera_clausula[tipoContrato]) {
            var terceraContainer = document.getElementById('clausula3').querySelector('ul');
            var TerceraIndex = tercera_clausula[tipoContrato].length + 1;
            var nuevaTercera = { texto: "Nueva forma de pago dinámica" };
    
            var terceraLi = document.createElement('li');
    
            var checkbox = document.createElement('input');
            checkbox.type = 'checkbox';
            checkbox.name = `tercera_${TerceraIndex}`;
            checkbox.id = `tercera_${TerceraIndex}`;
    
            var inputText = document.createElement('input');
            inputText.type = 'text';
            inputText.name = `tercera_${TerceraIndex}_text`;
            inputText.id = `tercera_${TerceraIndex}_text`;
            inputText.value = nuevaTercera.texto;
            inputText.disabled = true;
            inputText.style.width = "100%";
            inputText.style.marginTop = "5px";
    
            terceraLi.appendChild(checkbox);
            terceraLi.appendChild(inputText);
            terceraContainer.appendChild(terceraLi);
    
            checkbox.addEventListener('change', function () {
                inputText.disabled = !checkbox.checked;
            });

        
    
            tercera_clausula[tipoContrato].push(nuevaTercera);
        }
    });

    document.addEventListener('DOMContentLoaded', function () {
        const personaSelect = document.getElementById('persona');
        const vendedoresSection = document.getElementById('vendedores_section');
        const compradoresSection = document.getElementById('compradores_section');
        const tipoPersonaJuridica = document.getElementById('tipo_persona_juridica');
        const tipoJuridicaSelect = document.getElementById('tipo_juridica');
        const camposJuridica = document.getElementById('campos_juridica');

        // Mostrar/ocultar secciones según selección de Persona
        personaSelect.addEventListener('change', function () {
            if (this.value === 'Juridica') {
                vendedoresSection.style.display = 'none';
                compradoresSection.style.display = 'none';
                tipoPersonaJuridica.style.display = 'block';
            } else {
                vendedoresSection.style.display = 'block';
                compradoresSection.style.display = 'block';
                tipoPersonaJuridica.style.display = 'none';
                camposJuridica.style.display = 'none'; // Ocultar campos si se cambia a Natural
                tipoJuridicaSelect.value = ''; // Reiniciar selección
            }
        });

        // Mostrar campos de NIT y Nombre dependiendo de la selección (Comprador/Vendedor)
        tipoJuridicaSelect.addEventListener('change', function () {
            if (this.value === 'Comprador' || this.value === 'Vendedor') {
                camposJuridica.style.display = 'block';
            } else {
                camposJuridica.style.display = 'none';
            }
        });
    });

    document.addEventListener('DOMContentLoaded', function () {
        // Elementos para vendedores
        const vendedoresSelect = document.getElementById('vendedores');
        const cedulaVendedor2 = document.getElementById('cedula_vendedor_2');

        // Elementos para compradores
        const compradoresSelect = document.getElementById('compradores');
        const cedulaComprador2 = document.getElementById('cedula_comprador_2');

        // Mostrar/Ocultar segundo campo de cédula del vendedor
        vendedoresSelect.addEventListener('change', function () {
            if (this.value === '2') {
                cedulaVendedor2.style.display = 'block';
            } else {
                cedulaVendedor2.style.display = 'none';
            }
        });

        // Mostrar/Ocultar segundo campo de cédula del comprador
        compradoresSelect.addEventListener('change', function () {
            if (this.value === '2') {
                cedulaComprador2.style.display = 'block';
            } else {
                cedulaComprador2.style.display = 'none';
            }
        });
    });

</script>

{% endblock %}
