{% extends 'base.html' %}
{% block content %}
    <title>Archivos de Contratos</title>

<body>
    <div class="recent-orders">
        <div class="vehicle_search">
            <h1>Archivos de Contratos</h1>

            <!-- Formulario de búsqueda -->
            <form method="GET" action="" style="margin-bottom: 20px;">
                <input 
                    type="text" 
                    name="search" 
                    placeholder="Buscar archivo por nombre" 
                    value="{{ request.GET.search }}" 
                    style="padding: 8px; width: 300px; border: 1px solid #ccc; border-radius: 4px;">
                <button 
                    type="submit" 
                    style="padding: 8px 12px; background-color: #007BFF; color: white; border: none; border-radius: 4px; cursor: pointer;">
                    Buscar
                </button>
            </form>

            <!-- Tabla de resultados -->
            {% if archivos %}
                <table border="1" style="width: 100%; text-align: left; border-collapse: collapse;">
                    <thead>
                        <tr>
                            <th style="padding: 8px;">Nombre del Archivo</th>
                            <th style="padding: 8px; text-align: center;">Acción</th>
                        </tr>
                    </thead>
                    <tbody>
                        {% for archivo in archivos %}
                            <tr>
                                <td style="padding: 8px;">{{ archivo.nombre }}</td>
                                <td style="padding: 8px; text-align: center;">
                                    <a href="{{ archivo.ruta }}" download="{{ archivo.nombre }}" style="text-decoration: none; color: #007BFF;">
                                        <i class="fa fa-download" aria-hidden="true" style="font-size: 1.2em;"></i> Descargar
                                    </a>
                                </td>
                            </tr>
                        {% endfor %}
                    </tbody>
                </table>
            {% else %}
                <p>No se encontraron archivos disponibles.</p>
            {% endif %}
        </div>
    </div>
</body>
{% endblock %}
