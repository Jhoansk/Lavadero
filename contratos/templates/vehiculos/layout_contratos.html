<!DOCTYPE html>
<html lang="es">
<head>

<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>{% block title %}Contratos{% endblock %}</title>

<!-- Bootstrap -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<style>
    body {
        background: #f5f6fa;
        overflow-x: hidden;
    }

    /* SIDEBAR */
    .sidebar {
        width: 250px;
        height: 100vh;
        position: fixed;
        left: 0;
        top: 0;
        background: #e4af00ff;
        padding: 20px 0;
        color: white;
        transition: transform 0.3s ease;
        z-index: 1050;
    }

    .sidebar a {
        display: block;
        padding: 12px 25px;
        color: #e6e6e6;
        text-decoration: none;
        font-size: 15px;
    }

    .sidebar a:hover {
        background: rgba(255,255,255,0.2);
    }

    .sidebar .title {
        font-size: 20px;
        font-weight: bold;
        padding: 0 25px 20px 25px;
        color: white;
    }

    .content {
        margin-left: 260px;
        padding: 25px;
        transition: margin-left 0.3s ease;
    }

    .active-link {
        background: rgba(255,255,255,0.3) !important;
        color: white !important;
    }

    /* BOTÃ“N MOBILE */
    .mobile-toggle {
        display: none;
        position: fixed;
        top: 10px;
        left: 10px;
        z-index: 1100;
    }

    /* RESPONSIVE */
    @media (max-width: 768px) {

        .sidebar {
            transform: translateX(-100%);
        }

        .sidebar.show {
            transform: translateX(0);
        }

        .content {
            margin-left: 0;
            padding-top: 70px;
        }

        .mobile-toggle {
            display: block;
        }
    }
</style>

</head>
<body>

<!-- BOTÃ“N HAMBURGUESA -->
<button class="btn btn-dark mobile-toggle" onclick="toggleSidebar()">
    â˜°
</button>

<!-- SIDEBAR -->
<div class="sidebar" id="sidebar">

    <div class="title">ğŸš• Taxi Cupos</div>

    <a href="{% url 'vehiculos:inicio' %}">ğŸ  Inicio Vehiculos</a>
    {% if request.user.rol == 'administrador' %}
        <a href="{% url 'vehiculos:dashboard_operativa' %}">ğŸ  Inicio Comercial</a>
    {% endif %}

    <hr style="border-color: rgba(255,255,255,0.3);">

    <!-- VehÃ­culos -->
    <div class="nav-item">
        <a class="nav-link dropdown-toggle" data-bs-toggle="collapse" href="#vehiculosSubmenu">
            ğŸš˜ VehÃ­culos
        </a>
        <div class="collapse" id="vehiculosSubmenu">
            <a href="{% url 'vehiculos:lista_vehiculos' %}" class="dropdown-item ps-4">Lista de VehÃ­culos</a>
            <a href="{% url 'vehiculos:agregar_vehiculo' %}" class="dropdown-item ps-4">Agregar VehÃ­culo</a>
            <a href="{% url 'vehiculos:buscar_vehiculo' %}" class="dropdown-item ps-4">Buscar VehÃ­culo</a>
            <a href="{% url 'vehiculos:lista_facturas' %}" class="dropdown-item ps-4">Facturas</a>
        </div>
    </div>

    <a href="{% url 'vehiculos:lista_usuarios' %}">ğŸ‘¥ Usuarios</a>
    <a href="{% url 'vehiculos:lista_estados' %}">ğŸ“ Estados</a>

    <!-- Documentos -->
    <div class="nav-item">
        <a class="nav-link dropdown-toggle" data-bs-toggle="collapse" href="#documentosSubmenu">
            ğŸ“„ Documentos
        </a>
        <div class="collapse" id="documentosSubmenu">
            <a href="{% url 'vehiculos:lista_documentos' %}" class="dropdown-item ps-4">Lista Documentos</a>
            <a href="{% url 'vehiculos:buscar_vehiculo_documentos' %}" class="dropdown-item ps-4">Buscar VehÃ­culo</a>
            <a href="{% url 'vehiculos:ver_archivos' %}" class="dropdown-item ps-4">Operativa</a>
        </div>
    </div>

    <hr style="border-color: rgba(255,255,255,0.3);">

    <a href="{% url 'vehiculos:seleccionar_datos_contrato' %}">ğŸ“ Crear Contrato</a>
    <a href="{% url 'vehiculos:checklist_vehiculo' %}">ğŸ“‹ Checklist VehÃ­culo</a>

    <hr style="border-color: rgba(255,255,255,0.3);">

    <a href="{% url 'vehiculos:configuraciones' %}">âš™ï¸ Perfil / ConfiguraciÃ³n</a>

    {% if request.user.rol == 'administrador' %}
        <hr style="border-color: rgba(255,255,255,0.3);">
        <a href="{% url 'vehiculos:generar_reporte_contratos' %}">ğŸ“‘ Reportes</a>
        <a href="{% url 'vehiculos:lista_presupuestos' %}">ğŸ“¦ Presupuestos</a>
        <a href="{% url 'vehiculos:lista_users' %}">ğŸ‘¨â€ğŸ’¼ Empleados</a>
        <a href="{% url 'vehiculos:lista_contratos' %}">ğŸ¢ Administrativo</a>
    {% endif %}

    <hr style="border-color: rgba(255,255,255,0.3);">

    <a href="{% url 'logout' %}">ğŸ”’ Cerrar sesiÃ³n</a>

</div>

<!-- CONTENIDO -->
<div class="content">
    {% block content %}{% endblock %}
</div>

<!-- Bootstrap -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

<script>
    function toggleSidebar() {
        document.getElementById('sidebar').classList.toggle('show');
    }
</script>

{% block extra_js %}{% endblock %}

</body>
</html>
