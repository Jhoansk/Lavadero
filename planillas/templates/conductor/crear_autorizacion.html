{% extends "layout_taxis.html" %}

{% block title %}Nueva autorización{% endblock %}

{% block content %}

<div class="container py-4">

    <!-- TÍTULO -->
    <div class="d-flex align-items-center mb-4">
        <h2 class="fw-bold mb-0">
            <i class="fas fa-user-check text-warning"></i>
            Nueva autorización para {{ vehiculo.placa }}
        </h2>
    </div>

    <!-- CARD FORM -->
    <div class="card shadow-lg border-0 card-hover">
        <div class="card-body p-4">

            <form method="POST" class="row g-3">
                {% csrf_token %}

                <!-- CÉDULA -->
                <div class="col-md-6">
                    <label class="form-label fw-bold">Cédula del conductor</label>
                    <input type="text" name="cedula"
                           class="form-control form-control-lg shadow-sm" required>
                </div>

                <!-- TIPO AUTORIZACIÓN -->
                <div class="col-md-6">
                    <label class="form-label fw-bold">Tipo de autorización</label>
                    <select name="tipo" class="form-select form-select-lg shadow-sm" id="tipo" required>
                        <option value="">Seleccione</option>
                        <option value="indefinida">Indefinida</option>
                        <option value="cantidad">Por cantidad</option>
                    </select>
                </div>

                <!-- CANTIDAD -->
                <div class="col-md-6" id="campoCantidad" style="display:none;">
                    <label class="form-label fw-bold">Cantidad</label>
                    <input type="number" name="cantidad"
                           min="1" class="form-control form-control-lg shadow-sm">
                </div>

                <!-- BOTÓN -->
                <div class="col-12 mt-3">
                    <button class="btn btn-warning text-dark fw-bold px-4 shadow-sm">
                        <i class="fas fa-save"></i> Guardar autorización
                    </button>
                </div>

            </form>

        </div>
    </div>

</div>

<!-- SCRIPT -->
<script>
document.getElementById("tipo").addEventListener("change", function () {
    document.getElementById("campoCantidad").style.display =
        (this.value === "cantidad") ? "block" : "none";
});
</script>

{% endblock %}
